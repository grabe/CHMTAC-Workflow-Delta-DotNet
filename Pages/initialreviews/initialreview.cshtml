@page
@using Newtonsoft.Json
@using CHMR_DMP_PPR_Charlie_Docker.Database.ReportingNS
@using CHMR_DMP_PPR_Charlie_Docker.Database.AssessmentNS
@model CHMR_DMP_PPR_Charlie_Docker.Pages.initialreviews.initialreviewModel
@{

}
<script>
    // called initially after content is loaded, or when user clicks a report
    function populateReport(uuidStr) {
        var report = JSON.parse(document.getElementById(uuidStr).textContent);

        document.getElementById("first_name").value = report.Reporter.FirstName;
        document.getElementById("last_name").value = report.Reporter.LastName;
        document.getElementById("reporting_unit").value = report.Reporter.ReportingUnit;
        document.getElementById("dutytitle_rank").value = report.Reporter.DutyTitleRank;
        document.getElementById("comm_phone_num").value = report.Reporter.CommPhone;
        document.getElementById("dsn_num").value = report.Reporter.DsnPhone;
        document.getElementById("email_address").value = report.Reporter.Email;
        document.getElementById("assigned_unit").value = report.Reporter.AssignedUnit;
        document.getElementById("combatant_command").value = report.Reporter.CombatCommand;
        document.getElementById("other_command").value = report.Reporter.OtherCommand;
        document.getElementById("poc1_name").value = report.AdditionalPoc1_Name;
        document.getElementById("pos1_contact").value = report.AdditionalPoc1_Info;
        document.getElementById("poc2_name").value = report.AdditionalPoc2_Name;
        document.getElementById("pos2_contact").value = report.AdditionalPoc2_Info;
        document.getElementById("start_dt").value = report.Baseline.StartDatetime;
        document.getElementById("end_dt").value = report.Baseline.EndDatetime;
        document.getElementById("time_zone").value = report.Baseline.Timezone;
        document.getElementById("location").value = report.Baseline.Location;
        document.getElementById("civilian_harm").value = report.Baseline.TotalCivilianHarm;
        document.getElementById("us_involvement").value = report.Baseline.UsCivilianHarm;
        document.getElementById("report_uuid").value = uuidStr;

        var mode = document.getElementById("mode_" + uuidStr).textContent;
        var modeFlag = mode !== "None";
        var addlFlag = document.getElementById("addl_" + uuidStr).textContent !== "False";

        var inclElem = document.getElementById("include_in_review");
        var addlElem = document.getElementById("addl_info_us_involve");

        // set checkboxes to whatever came out of the database
        inclElem.checked = modeFlag;
        addlElem.checked = addlFlag;

        // disable additional info checkbox if the report selected will be the one under review, or is the one under review
        var hasReportUnderReview = document.getElementById("has_report_under_review").value === "True";
        document.getElementById("addl_info_us_involve").disabled = !hasReportUnderReview || mode === "ReportUnderReview";

        // save button will be disabled until something changes
        document.getElementById("reports_save_btn").disabled = true;
    }


    document.addEventListener('DOMContentLoaded', function () {
        const tzField = document.getElementById('time_zone');
        const tzList = Intl.supportedValuesOf('timeZone');
        const currentTz = Intl.DateTimeFormat().resolvedOptions().timeZone;
        tzList.forEach((tz) => {
        var option = document.createElement('option');
        option.value = tz;
        option.text = tz;
        option.selected = tz === currentTz;
        tzField.appendChild(option);
        });

        document.getElementById("no_reports_modal_btn").addEventListener("click", function() {
            history.back();
        });

        document.getElementById("submit_no_reports").addEventListener("click", function() {
            document.getElementById("initial_review").submit();
        });

        document.getElementById("include_in_review").addEventListener("click", function() {
            document.getElementById("reports_save_btn").disabled = false;
        });

        document.getElementById("addl_info_us_involve").addEventListener("click", function() {
            document.getElementById("reports_save_btn").disabled = false;
        });

        // get info about reports included and available
        var hasReportUnderReview = document.getElementById("has_report_under_review").value === "True";
        var hasDuplicativeReports = document.getElementById("has_duplicative_reports").value === "True";
        var hasReportsAvailable = document.getElementById("has_reports_available").value === "True";

        // no reports needing review, no report associated with this review so go back
        if (!hasReportUnderReview && !hasDuplicativeReports && !hasReportsAvailable)
        {
            showNoReportsModal();
        }

        // enable/disable tabs 2-5
        var enableTabs = hasReportUnderReview || hasDuplicativeReports;
        document.getElementById("tab-2").enabled = enableTabs;
        document.getElementById("tab-3").enabled = enableTabs;
        document.getElementById("tab-4").enabled = enableTabs;
        document.getElementById("tab-5").enabled = enableTabs;

        // TODO: needs rewritten to pull and use mode_<uuid> and addl_<uuid>
        var rurUuid = document.getElementById("report_uuid").value;
        if (rurUuid !== null & rurUuid.length > 0)
        {
            populateReport(rurUuid);

            // document.getElementById("include_in_review").checked = true
            // document.getElementById("include_in_review").disabled = true;
            // document.getElementById("addl_info_us_involve").checked = false;
            // document.getElementById("addl_info_us_involve").disabled = true;
        }
    });

    function showNoReportsAvailableModal() {
        var noReportsAvailableModal = new bootstrap.Modal(document.getElementById("no_reports_modal"));
        noReportsAvailableModal.show();
    }

    function showNoReportsSelectedModal() {
        var noReportsSelectedModal = new bootstrap.Modal(document.getElementById("no_reports_selected_modal"));
        noReportsSelectedModal.show();
    }
</script>

<!-- Information no reports - Modal HTML -->
<div id="no_reports_modal" class="modal fade" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Nothing to Review</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>There are no submitted reports available for review at this time.</p>
            </div>
            <div class="modal-footer">
                <button type="button" id="no_reports_modal_btn" class="btn btn-secondary" data-bs-dismiss="modal">Go Back</button>
            </div>
        </div>
    </div>
</div>

<!-- Confirm remove review - Modal HTML -->
<div id="no_reports_selected_modal" class="modal fade" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Nothing Selected to Review</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>There are no reports selected for review.</p>
                <p>This initial review record will be deleted.</p>
                <p>Are you sure?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" id="submit_no_reports" class="btn btn-success success">Submit</button>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <main class="pb-3" role="main">
        <form id="initial_review" method="post" enctype="multipart/form-data">
            <h1 class="text-center mb- mb-4">Civilian Harm Initial Review</h1>
            <div class="row justify-content-center">
                <div id="info_box0" class="col card mb-4" style="background-color: steelblue;color: yellow;">
                    <p class="mt-md-0 pb-md-0 mb-md-0" style="margin-top: 15px;text-align: center;">Review report(s) of suspected civilian harm IAW DoDI 3000.17 §4.4<br />Find evidence supporting the suspicion and recommend next action.</p>
                </div>
            </div>
            <div>
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item" role="presentation"><a class="nav-link active" role="tab" data-bs-toggle="tab" href="#tab-1">Reports</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-3">Amplified Baseline</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-2">Operations</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-4">Documentation</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-5">Results/Recommendation</a></li>
                </ul>
                <div class="tab-content text-start">
                    <div id="tab-1" class="tab-pane active" role="tabpanel">
                        <div id="submitted_reports" class="card shadow-lg mt-md-2 mb-md-3 pb-md-0">
                            <div class="card-header text-white bg-primary mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h3 class="mb-0 ms-0 ps- ps-4">Submitted Reports</h3>
                            </div>
                            <div class="card-body bg-dark-subtle bg-gradient">
                                @{
                                    bool hasReportUnderReview = @Model?.InitialReview?.ReportUnderReview != default(Report);
                                    bool hasDuplicativeReports = @Model?.InitialReview?.DuplicativeReports.Count > 0;
                                    bool hasReportsAvailable = @Model?.Reports.Count > 0;
                                    <input type="hidden" id="has_report_under_review" name="enable_tabs" class="form-control" value="@hasReportUnderReview.ToString()" />
                                    <input type="hidden" id="has_duplicative_reports" name="enable_tabs" class="form-control" value="@hasDuplicativeReports.ToString()" />
                                    <input type="hidden" id="has_reports_available" name="enable_tabs" class="form-control" value="@hasReportsAvailable.ToString()" />
                                }
                                <table id="submitted_reports_list" class="table table-hover table-striped" style="width: 100%;padding-top:0px; padding-bottom:0px;">
                                    <thead>
                                        <tr>
                                            <th>Report ID</th>
                                            <th>Source</th>
                                            <th>Created</th>
                                            <th>Status</th>
                                            <th>Start Date</th>
                                            <th>End Date</th>
                                            <th>Time Zone</th>
                                            <th>Location</th>
                                            <th>Suspected Civilian Harm </th>
                                            <th>Suspected U.S. Contribution</th>
                                            <th>Reporter</th>
                                            @* <th style="display: none;">Report</th> *@
                                            @* <th style="display: none;">Mode</th> *@
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (Database.ReportingNS.Report report in @Model.Reports)
                                        {
                                            // only show reports that have been submitted but are not under review or have already been reviewed
                                            @* if (report.Status != Report.EStatus.Submitted) *@
                                            @*     continue; *@

                                            string uuidStr = @report.Uuid.ToString();
                                            int uuidLen = uuidStr.Length;
                                            string uuidLast12 = uuidStr.Substring(uuidLen >= 12 ? uuidLen - 12 : 0, Math.Min(12, uuidLen));
                                            string sr = JsonConvert.SerializeObject(@report);
                                            string trProps = "style=\"padding-top:0px; padding-bottom:0px; \"";
                                            string tdColor = "black";
                                            EAssociateMode mode = EAssociateMode.None;
                                            Guid uuid = new Guid(uuidStr);
                                            bool addlInfoUS = false;

                                            if (Model?.InitialReview?.ReportUnderReview?.Uuid == uuid)
                                            {
                                                tdColor = "green";
                                                mode = EAssociateMode.ReportUnderReview;
                                            }
                                            else if (Model?.InitialReview?.DuplicativeReports?.ContainsKey(uuid) ?? false)
                                            {
                                                addlInfoUS = Model?.InitialReview?.DuplicativeReports[uuid]?.AddsValue ?? false;
                                                tdColor = "blue";
                                                mode = EAssociateMode.Duplicative;
                                            }

                                            trProps = "class=\"clickable-row\" style=\"cursor: pointer;\" onclick=\"populateReport('" + uuidStr + "')\"";
                                            string civharm = report.Baseline.TotalCivilianHarm.Length > 0 ? report.Baseline.TotalCivilianHarm.Substring(0, Math.Min(25, report.Baseline.TotalCivilianHarm.Length)) : string.Empty;
                                            string us_civharm = report.Baseline.UsCivilianHarm.Length > 0 ? report.Baseline.UsCivilianHarm.Substring(0, Math.Min(25, report.Baseline.UsCivilianHarm.Length)) : string.Empty;

                                            <tr @Html.Raw(@trProps)>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@uuidLast12</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Source.ToString()</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Created</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Status.ToString()</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Baseline.StartDatetime</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Baseline.EndDatetime</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Baseline.Timezone</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Baseline.Location</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@civharm</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@us_civharm</td>
                                                <td style="padding-top:0px;padding-bottom:0px;color:@tdColor;">@report.Reporter.LastName</td>
                                                <td id="@uuidStr" style="display: none;">@sr</td>
                                                <td id="mode_@uuidStr" style="display: none;">@mode.ToString()</td>
                                                <td id="addl_@uuidStr" style="display: none;">@addlInfoUS.ToString()</td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                                @* <ul class="list-group lh-1 text-bg-info border-info shadow-lg" id="submitted_reports_list"> *@
                                @*     <li class="list-group-item"><span>Report ID 1</span></li> *@
                                @*     <li class="list-group-item"><span>Report ID 2</span></li> *@
                                @*     <li class="list-group-item"><span>Report ID <em>n</em></span></li> *@
                                @* </ul> *@
                            </div>
                        </div>
                        <div id="selected_report" class="card shadow-lg mt-md-4">
                            <div class="card-header text-white bg-primary mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h3 class="mb-0 ms-0 ps- ps-4">Selected Report</h3>
                            </div>
                            <div class="card-body bg-dark-subtle bg-gradient">
                                <div id="contact_info" class="card shadow-lg mt-md-0">
                                    <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                        <h4 class="mb-0 ms-0 ps- ps-4">Contact Information</h4>
                                    </div>
                                    <div class="card-body">
                                        <div>
                                            <input type="hidden" id="report_uuid" name="report_uuid" class="form-control" value="@Model?.InitialReview?.ReportUnderReview?.Uuid.ToString()" />
                                            <input type="hidden" name="initialreview_id" class="form-control" value="@Model?.InitialReview?.Uuid.ToString()" />
                                        </div>
                                        <div id="reporter_info" class="card border-info shadow-lg mb-sm-2">
                                            <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                                <h5>Reporter Information</h5>
                                            </div>
                                            <div class="card-body pb-sm-3">
                                                <div class="row">
                                                    <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">First/Given name:</label></div>
                                                    <div class="col-lg-3"><input readonly id="first_name" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                    <div class="col-lg-2 text-end"><label class="col-form-label me-sm-2">Last/Surname: </label></div>
                                                    <div class="col"><input readonly id="last_name" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Reporting Unit:</label></div>
                                                    <div class="col-lg-3"><input readonly id="reporting_unit" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                    <div class="col-lg-2 text-end"><label class="col-form-label me-sm-2">Duty Title/Rank:</label></div>
                                                    <div class="col"><input readonly id="dutytitle_rank" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Commercial Phone:</label></div>
                                                    <div class="col-lg-3"><input readonly id="comm_phone_num" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                    <div class="col-lg-2 text-end"><label class="col-form-label me-sm-2">DSN:</label></div>
                                                    <div class="col"><input readonly id="dsn_num" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">E-Mail Address:</label></div>
                                                    <div class="col-lg-3"><input readonly id="email_address" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                    <div class="col-lg-2 text-end"><label class="col-form-label me-sm-2">Assigned Unit:</label></div>
                                                    <div class="col"><input readonly id="assigned_unit" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Combatant CMD:</label></div>
                                                    <div class="col-lg-3"><input readonly id="combatant_command" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                    <div class="col-lg-2 text-end"><label class="col-form-label me-sm-2">Other Command:</label></div>
                                                    <div class="col"><input readonly id="other_command" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="additional_contacts" class="card border-info shadow-lg mt-md-3">
                                            <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                                <h5>Additional Contacts</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Full Name:</label></div>
                                                    <div class="col-lg-3"><input readonly id="poc1_name" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                    <div class="col-lg-2 text-end"><label class="col-form-label me-sm-2">Contact Info:</label></div>
                                                    <div class="col"><input readonly id="pos1_contact" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Full Name:</label></div>
                                                    <div class="col-lg-3"><input readonly id="poc2_name" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                    <div class="col-lg-2 text-end"><label class="col-form-label me-sm-2">Contact Info:</label></div>
                                                    <div class="col"><input readonly id="pos2_contact" class="pt-sm-0 mt-sm- mt-sm-1" type="text" /></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ch_baseline" class="card shadow-lg mt-sm-2 mt-md-3">
                                    <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                        <h4 class="mb-0 ms-0 ps- ps-4">Civilian Harm Baseline</h4>
                                    </div>
                                    <div class="card-body">
                                        <div id="ch_time_window" class="card border-info shadow-lg mb-md-3">
                                            <div class="card-header bg-info-subtle border-info mb-0 pb-0 pt-0">
                                                <h5>Time Window</h5>
                                            </div>
                                            <div class="card-body pb-sm-3">
                                                <div class="d-flex justify-content-between ms-md-4 me-md-5" jus>
                                                    <div><label class="form-label">Start Date/Time: </label><input readonly id="start_dt" class="mt-md-2" type="datetime-local" /></div>
                                                    <div><label class="form-label">End Date/Time: </label><input readonly id="end_dt" class="mt-md-2" type="datetime-local" /></div>
                                                    <div>
                                                        <label for="time_zone" class="form-label">Timezone:</label>
                                                        <select class="form-select" id="time_zone" name="time_zone">
                                                        </select>
                                                        @* <label class="form-label">Time zone: </label><select class="mt-sm-1 mt-md-2"> *@
                                                        @*     <optgroup label="This is a group"> *@
                                                        @*         <option value="12" selected>This is item 1</option> *@
                                                        @*         <option value="13">This is item 2</option> *@
                                                        @*         <option value="14">This is item 3</option> *@
                                                        @*     </optgroup> *@
                                                        @* </select> *@
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="ch_location_info" class="card border-info shadow-lg mb-md-3">
                                            <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                                <h5>Location Information</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label">Coordinates/Location:</label></div>
                                                    <div class="col-lg-9"><input readonly id="location" class="col-lg-12" type="text" /></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="suspected_ch" class="card border-info">
                                            <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                                <h5>Suspected Civilian Harm</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label">Total Civilian Harm:</label></div>
                                                    <div class="col-lg-9"><textarea readyonly id="civilian_harm" class="col-lg-12"></textarea></div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label">U.S. Involvement:</label></div>
                                                    <div class="col-lg-9"><textarea readyonly id="us_involvement" class="col-lg-12"></textarea></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="additional_info" class="card shadow-lg mt-md-3">
                                    <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                        <h4 class="mb-0 ms-0 ps- ps-4">Additional Information</h4>
                                    </div>
                                    <div class="card-body">
                                        <div>
                                            <label class="form-label me-md-3">Uploaded files: </label>
                                            <ul class="list-group">
                                                <li class="list-group-item"><span>Filename #1</span></li>
                                                <li class="list-group-item"><span>Filename #2</span></li>
                                                <li class="list-group-item"><span>Filename #3</span></li>
                                            </ul>
                                            <div class="row">
                                                <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label">URL to External Documentation: </label></div>
                                                <div class="col-lg-9"><input id="url_external_doc" class="pt-sm-0 mt-sm- mt-sm-1 col-lg-12" type="text" /></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-md-4">
                            <div class="col">
                                <div class="d-flex justify-content-between">
                                    <button id="reports_save_btn" name="reports_save_btn" type="submit" class="btn btn-success shadow-lg mb-md-4 mt-md-2 ms-md-0" onclick="return confirm('Removing reports?')">Save Changes</button>
                                    @* <input id="include_in_review" name="include_in_review" class="form-check-input form-control" type="checkbox" /><label class="form-label" for="include_in_review" style="font-size: 18px;">Include in this review</label> *@
                                    @* <input id="addl_info_us_involve" name="addl_info_us_involve" class="form-check-input form-control" type="checkbox" /><label class="form-label" for="addl_info_us_involve" style="font-size: 18px;">Provide further details on U.S. involvement?</label> *@
                                    <div class="form-check mt-md-2"><input id="include_in_review" name="include_in_review" class="form-check-input form-control" readonly type="checkbox" /><label class="form-check-label" for="include_in_review" style="font-size: 18px;">Include in this review</label></div>
                                    <div class="form-check mt-md-2"><input id="addl_info_us_involve" name="addl_info_us_involve" class="form-check-input form-control" readonly type="checkbox" /><label class="form-check-label" for="addl_info_us_involve" style="font-size: 18px;">Provide further details on U.S. involvement?</label></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-2" class="tab-pane" role="tabpanel">
                        <div id="associated_ops" class="card shadow-lg mt-md-2 mb-md-3 pb-md-0">
                            <div class="card-header text-white bg-primary mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h3 class="mb-0 ms-0 ps- ps-4">Associated Operations</h3>
                            </div>
                            <div class="card-body bg-dark-subtle bg-gradient">
                                <ul class="list-group lh-1 text-bg-info border-info shadow-lg">
                                    <li class="list-group-item"><span>Associated Operation Name-1</span></li>
                                    <li class="list-group-item"><span>Associated Operation Name-2</span></li>
                                    <li class="list-group-item"><span>Associated Operation Name-<em>n</em></span></li>
                                </ul>
                                <div class="d-flex justify-content-between">
                                    <div class="btn-group gap-1" role="group">
                                        <button class="btn btn-primary" type="button">New</button>
                                        <button class="btn btn-primary" type="button">Duplicate</button>
                                        <button class="btn btn-primary" type="button">Add</button>
                                        <button class="btn btn-primary" type="button">Edit</button>
                                        <button class="btn btn-primary" type="button">Delete</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="contact_info-1" class="card shadow-lg mt-md-0">
                            <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h4 class="mb-0 ms-0 ps- ps-4">Operational Information</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-2 text-start me-sm-0"><label class="col-form-label">Operation Name:</label></div>
                                    <div class="col-lg-9"><input class="w-100" type="text" /></div>
                                </div>
                                <div class="row d-flex">
                                    <div class="col-lg-2 text-start me-sm-0"><label class="col-form-label">Participating Unit:</label></div>
                                    <div class="col-lg-6"><input class="col-lg-12 mt-md-1" type="text" /></div>
                                    <div class="col-lg-3 text-start"><input class="mt-md-1 me-md-2" type="checkbox" /><label class="form-label mt-md-1">Is Commanding Unit</label></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 text-start me-sm-0"><label class="col-form-label">Commander Name:</label></div>
                                    <div class="col-lg-4"><input class="col-lg-12 mt-md-1" type="text" /></div>
                                    <div class="col-lg-5 ps-md-4"><label class="form-label me-sm-2 me-md- pt-md-0 mt-md-1">Contact Info:</label><input id="assigned_unit-5" class="mt-md-1 col-md-9" type="text" /></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-2 text-start me-sm-0"><label class="col-form-label">Location:</label></div>
                                    <div class="col-lg-9"><input class="col-lg-12 mt-md-1" type="text" /></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-5">
                                        <div><label class="form-label me-md- pe-md-0 me-md-1 mt-md-1">OPS Start Date/Time: </label><input class="mt-md-1" type="date" /></div>
                                    </div>
                                    <div class="col-lg-4 ps-md-0 pe-md- me-md-0 pe-md-0">
                                        <div><label class="form-label mt-md-1">OPS End Date/Time: </label><input class="mt-md-1" type="date" /></div>
                                    </div>
                                    <div class="col-lg-3 pe-md-0 ps-md-0">
                                        <div>
                                            <label class="form-label">Time zone: </label><select class="mt-sm-1 mt-md-2">
                                                <optgroup label="This is a group">
                                                    <option value="12" selected>This is item 1</option>
                                                    <option value="13">This is item 2</option>
                                                    <option value="14">This is item 3</option>
                                                </optgroup>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="ops_summaries-3" class="card shadow-lg mt-md-3">
                            <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h4 class="mb-0 ms-0 ps- ps-4">Operational Characteristics</h4>
                            </div>
                            <div class="card-body">
                                <div class="card-group">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h5 class="card-title">Operation Types</h5>
                                            <hr />
                                            <div class="form-check">
                                                <div class="form-check text-start"><input id="formCheck-4" class="form-check-input" type="radio" /><label class="form-check-label" for="formCheck-4">Kinetic</label></div>
                                                <div class="form-check text-start"><input id="formCheck-22" class="form-check-input" type="radio" /><label class="form-check-label" for="formCheck-22">Non-Kinetic</label></div>
                                            </div>
                                            <hr />
                                            <div class="form-check">
                                                <div class="form-check text-start"><input id="formCheck-5" class="form-check-input" type="radio" /><label class="form-check-label" for="formCheck-5">Kinetic</label></div>
                                                <div class="form-check text-start"><input id="formCheck-6" class="form-check-input" type="radio" /><label class="form-check-label" for="formCheck-6">Non-Kinetic</label></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h5 class="card-title">Domains</h5>
                                            <hr />
                                            <div class="form-check text-start"><input id="formCheck-7" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-7">Air</label></div>
                                            <div class="form-check text-start"><input id="formCheck-8" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-8">Cyber</label></div>
                                            <div class="form-check text-start"><input id="formCheck-11" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-11">Ground</label></div>
                                            <div class="form-check text-start"><input id="formCheck-12" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-12">Maritime</label></div>
                                            <div class="form-check text-start"><input id="formCheck-9" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-9">Unknown</label></div>
                                            <div class="form-check text-start"><input id="formCheck-10" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-10">Other</label></div><input type="text" />
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h5 class="card-title">Entities Involved</h5>
                                            <hr />
                                            <div class="form-check text-start"><input id="formCheck-13" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-13">United States</label></div>
                                            <div class="form-check text-start"><input id="formCheck-16" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-16">Ally or Partner</label></div>
                                            <div class="form-check text-start"><input id="formCheck-15" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-15">Unknown</label></div>
                                            <div class="form-check text-start"><input id="formCheck-14" class="form-check-input" type="checkbox" /><label class="form-check-label" for="formCheck-14">Other</label></div><input type="text" />
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <h5 class="card-title">Fires Information</h5>
                                            <hr />
                                            <div class="form-check text-start"><input id="formCheck-17" class="form-check-input" type="radio" /><label class="form-check-label text-start" for="formCheck-17">Direct Fire</label></div>
                                            <div class="form-check text-start"><input id="formCheck-18" class="form-check-input" type="radio" /><label class="form-check-label" for="formCheck-18">Indirect Fire</label></div>
                                            <hr />
                                            <div class="form-check text-start"><input id="formCheck-19" class="form-check-input" type="radio" /><label class="form-check-label" for="formCheck-19">Deliberate</label></div>
                                            <div class="form-check text-start"><input id="formCheck-20" class="form-check-input" type="radio" /><label class="form-check-label" for="formCheck-20">Dynamic</label></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="ops_summaries" class="card shadow-lg mt-md-3">
                            <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h4 class="mb-0 ms-0 ps- ps-4">Amplifying Details</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Other Participating Units: </label></div>
                                    <div class="col-lg-9 align-self-center"><textarea class="col-lg-11"></textarea></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Involved Platforms: </label></div>
                                    <div class="col-lg-9 align-self-center"><textarea class="col-lg-11"></textarea></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Description of Targeting Process:</label></div>
                                    <div class="col-lg-9 align-self-center"><textarea class="col-lg-11"></textarea></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Location of Shooter/Weapon: </label></div>
                                    <div class="col-lg-9 align-self-center"><input class="wt-100 col-lg-11" type="text" /></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Intended Target Location: </label></div>
                                    <div class="col-lg-9 align-self-center"><input class="wt-100 col-lg-11" type="text" /></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Weapon System Used: </label></div>
                                    <div class="col-lg-9 align-self-center"><input class="wt-100 col-lg-11" type="text" /></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Munitions Type Used: </label></div>
                                    <div class="col-lg-9 align-self-center"><input class="wt-100 col-lg-11" type="text" /></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Estimated # of Rounds Fired: </label></div>
                                    <div class="col-lg-9 align-self-center"><input type="number" /></div>
                                </div>
                            </div>
                        </div>
                        <div id="ops_summaries-2" class="card shadow-lg mt-md-3">
                            <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h4 class="mb-0 ms-0 ps- ps-4">Operational Summaries</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Results summaries of reviews, assessments, investigations: </label></div>
                                    <div class="col-lg-9 align-self-center"><textarea class="col-lg-11"></textarea></div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Lessons Learned: </label></div>
                                    <div class="col-lg-9 align-self-center"><textarea class="col-lg-11"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-md-4">
                            <div class="col">
                                <div id="ampbase_save_btn" name="ampbase_save_btn" class="d-flex"><button class="btn btn-success shadow-lg mt-md-4 ms-md-3 mb-md-4" type="button">Save Changes</button></div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-3" class="tab-pane" role="tabpanel">
                        <div id="ch_amp_baseline" class="card shadow-lg mt-sm-2">
                            <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h3 class="mb-0 ms-0 ps- ps-4">Civilian Harm</h3>
                            </div>
                            <div class="card-body bg-dark-subtle">
                                <div id="ch_amp_time_window" class="card shadow-lg mb-sm-2">
                                    <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                        <h5>Time Window</h5>
                                    </div>
                                    <div class="card-body pb-sm-3 pb-md-1 pt-md-0 mb-md-0">
                                        <div class="d-flex justify-content-between ms-md-4 me-md-5" jus>
                                            <div><label class="form-label">Start Date/Time: </label><input class="mt-md-2" type="date" /></div>
                                            <div><label class="form-label">End Date/Time: </label><input class="mt-md-2" type="date" /></div>
                                            <div>
                                                <label class="form-label">Time zone: </label><select class="mt-sm-1 mt-md-2">
                                                    <optgroup label="This is a group">
                                                        <option value="12" selected>This is item 1</option>
                                                        <option value="13">This is item 2</option>
                                                        <option value="14">This is item 3</option>
                                                    </optgroup>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ch_amp_location" class="card shadow-lg mt-md-3">
                                    <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                        <h5>Location Information</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col text-end me-sm-0"><label class="col-form-label mt-md-1">Coordinates/Locations:</label></div>
                                            <div class="col-lg-9"><textarea class="col-lg-11"></textarea></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ch_amp_suspected" class="card shadow-lg mt-md-3">
                                    <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                        <h5>Suspected Civilian Harm</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Total Civilian Harm:</label></div>
                                            <div class="col-lg-9"><textarea class="col-lg-11"></textarea></div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">U.S. Involvement:</label></div>
                                            <div class="col-lg-9"><textarea class="col-lg-11"></textarea></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ch_us_casualties" class="card shadow-lg mt-md-3">
                                    <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                        <h5>U.S. Culpable Civilian Casualties</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Civilian Fatalities:</label></div>
                                            <div class="col-lg-9"><textarea class="col-lg-11"></textarea></div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Civilian Injuries</label></div>
                                            <div class="col-lg-9"><textarea class="col-lg-11"></textarea></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ch_us_civilian_objects" class="card shadow-lg mt-md-3">
                                    <div class="card-header bg-info-subtle mb-0 pb-0 pt-0">
                                        <h5>U.S. Culpable Civilian Objects</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row mt-3">
                                            <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Civilian Property Destroyed: </label></div>
                                            <div class="col-lg-9"><textarea class="col-lg-11"></textarea></div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label mt-md-1">Civilian Property Damaged: </label></div>
                                            <div class="col-lg-9"><textarea class="col-lg-11"></textarea></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-md-4">
                            <div class="col">
                                <div id="operations_save_btn" name="operations_save_btn" class="d-flex"><button class="btn btn-success shadow-lg mt-md-4 ms-md-3 mb-md-4" type="button">Save Changes</button></div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-4" class="tab-pane" role="tabpanel">
                        <p>Tab content.</p>
                        <div id="evidentiary_documentation" class="card shadow-lg mt-md-3">
                            <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h4 class="mb-0 ms-0 ps- ps-4">Evidentiary Documentation</h4>
                            </div>
                            <div class="card-body">
                                <div>
                                    <label class="form-label me-md-3">Upload files: </label><input type="file" />
                                    <ul class="list-group">
                                        <li class="list-group-item"><span>Filename #1</span></li>
                                        <li class="list-group-item"><span>Filename #2</span></li>
                                        <li class="list-group-item"><span>Filename #<em>n</em></span></li>
                                    </ul>
                                    <div class="row">
                                        <div class="col-lg-3 text-end me-sm-0"><label class="col-form-label">URLs to External Documentation: </label></div>
                                        <div class="col-lg-9 align-self-center"><textarea class="col-lg-11"></textarea></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-md-4">
                            <div class="col">
                                <div id="documentation_save_btn" name="documentation_save_btn" class="d-flex"><button class="btn btn-success shadow-lg mt-md-4 ms-md-3 mb-md-4" type="button">Save Changes</button></div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-5" class="tab-pane" role="tabpanel">
                        <div id="results_recommendation" class="card shadow-lg mt-md-3">
                            <div class="card-header text-black bg-primary-subtle mb-0 ps-0 pe-0 pt-0 pb-0">
                                <h4 class="mb-0 ms-0 ps- ps-4">Results and Recommendation</h4>
                            </div>
                            <div class="card-body">
                                <div>
                                    <div class="row">
                                        <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Review Results: </label></div>
                                        <div class="col-lg-9 align-self-center"><textarea class="col-lg-11 w-100"></textarea></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Recommendation:  </label></div>
                                        <div class="col-lg-4 align-self-center">
                                            <select>
                                                <optgroup label="Select Recommendation">
                                                    <option value="12" selected>No Recommendation</option>
                                                    <option value="13">No Further Action</option>
                                                    <option value="14">Recommend Assessment</option>
                                                    <option value="15">Recommend Investigation</option>
                                                </optgroup>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-2 text-end me-sm-0"><label class="col-form-label">Commander Approval:  </label></div>
                                        <div class="col-lg-2 align-self-center">
                                            <select readonly>
                                                <optgroup label="Not Yet Reviewed">
                                                    <option value="12" selected>Not Yet Reviewed</option>
                                                    <option value="13">Approved</option>
                                                    <option value="14">Rejected</option>
                                                </optgroup>
                                            </select>
                                        </div>
                                        <div class="col-lg-3 text-end"><label class="col-form-label mb-md-0 mt-md-4">Commander&#39;s Remarks: </label></div>
                                        <div class="col-lg-4 text-start align-self-center"><textarea class="form-control-sm mt-md-4 w-100" readonly></textarea></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-md-4">
                            <div class="col">
                                <div id="recommend_save_btn" name="recommend_save_btn" class="d-flex justify-content-between"><button class="btn btn-success shadow-lg mt-md-4 ms-md-3 mb-md-4" type="button">Save Changes</button><button class="btn btn-primary shadow-lg mt-md-4 ms-md-3 mb-md-4" type="button">Submit</button></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div id="message" class="alert mt-4" role="alert" style="display: none;"></div>
        <div class="custom-divider"></div>
    </main>
</div>
